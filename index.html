<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Adfa Parfum</title>
  <link rel="apple-touch-icon" sizes="180x180" href="assets/images/icons/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="assets/images/icons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="assets/images/icons/favicon-16x16.png" />
  <link rel="manifest" href="assets/images/icons/site.webmanifest" />
  <link rel="mask-icon" href="assets/images/icons/safari-pinned-tab.svg" color="#d9b45c" />
  <link rel="shortcut icon" href="assets/images/icons/favicon.ico" />
  <meta name="msapplication-TileColor" content="#d9b45c" />
  <meta name="msapplication-config" content="assets/images/icons/browserconfig.xml" />
  <meta name="theme-color" content="#d9b45c" />
  <link rel="icon" href="assets/images/icons/favicon.ico" />
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700&family=Inter&display=swap" rel="stylesheet">
</head>
<body>

  <!-- Header -->
  <header id="navbar">
    <div class="logo">
      <a href="https://www.adfaparfum.com">
        <img src="assets/images/logo_adfa_navbar.png" alt="Adfa Parfum" />
      </a>
    </div>
    <nav class="desktop-nav" role="navigation" aria-label="Primary Navigation">
      <a href="#hero">Beranda</a>
      <a href="#produk">Produk</a>
      <a href="#tentang">Tentang Kami</a>
      <a href="#footer">Kontak</a>
    </nav>
    <button class="menu-toggle" id="menu-toggle" aria-label="Toggle menu" aria-expanded="false" aria-controls="mobileMenu">
      <span></span><span></span><span></span>
    </button>
  </header>

  <!-- Mobile Menu -->
  <nav class="nav-mobile" id="mobileMenu" role="navigation" aria-label="Mobile Navigation" hidden>
      <a href="#hero">Beranda</a>
      <a href="#produk">Produk</a>
      <a href="#tentang">Tentang Kami</a>
      <a href="#footer">Kontak</a>
  </nav>

  <!-- Hero Section -->
  <section class="hero" id="hero">
    <img src="assets/images/logo_adfa.jpg" class="hero-logo" alt="Adfa Parfum Logo"/>
    <h1>Temukan aroma yang akan menemanimu,</h1>
    <h2>di setiap langkah, di setiap cerita.</h2>
    <div class="buttons">
      <button class="btn btn-produk" onclick="location.href='#produk'">Lihat Produk</button>
      <button class="btn btn-beli pulse" onclick="togglePopup()">Beli Sekarang</button>
      </div>
      <div class="buttons" style="color: #d9b45c; font-weight: 700;">
      atau
      </div>
      <div class="buttons">
      <button class="btn btn-tester" onclick="location.href='tester.html'" style="border: 2px solid #d9b45c; color: white; background: transparent; padding: 8px 16px; border-radius: 4px; font-weight: 700; transition: background-color 0.3s ease, color 0.3s ease;">Mau Coba Tester Dulu</button>
      <style>
        .btn-tester:hover {
          background-color: #d9b45c !important;
          color: black !important;
        }
      </style>
    </div>
  </section>

  <style>
body {
  margin: 0;
  font-family: 'Plus Jakarta Sans', sans-serif;
  background: var(--black);
  color: var(--white);
}

  /* Clean Product Card Styles - White and Gold Theme */
:root {
  --cpc-border-color: #d9b45c; /* gold */
  --cpc-bg-color: #fff;
  --cpc-text-color: #000;
  --cpc-button-reason-bg: #f9f5e7; /* light gold */
  --cpc-button-reason-bg-hover: #afa88d;
  --cpc-button-buy-bg: #d9b45c; /* gold */
  --cpc-button-buy-bg-hover: #b38a1f;
  --cpc-button-buy-color: #000;
}

/* Set product section background to white and text to black */
.produk {
  background-color: white;
  color: black;
  padding-top: 20px;
  padding-bottom: 20px;
}

.produk-container {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 1px;
  justify-content: center;
  padding: 0 10px;
}

@media (max-width: 768px) {
  .produk-container {
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    padding: 0 5px;
  }
  .clean-product-card {
    width: 100%;
    min-height: auto;
    padding: 12px;
  }
  .cpc-product-name {
    font-size: 1.1rem;
  }
  .cpc-product-category,
  .cpc-product-price {
    font-size: 1rem;
  }
  .cpc-button-reason,
  .cpc-button-buy {
    font-size: 0.9rem;
    padding: 10px 0;
  }
  .cpc-image-area {
    height: 140px;
  }
}

.clean-product-card {
  position: relative;
  border: none;
  padding: 16px;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  box-sizing: border-box;
  border-radius: 4px;
  background-color: var(--cpc-bg-color);
  color: var(--cpc-text-color);
  width: 280px;
  min-height: 420px;
  margin: 0 auto;
  box-sizing: border-box;
}

.cpc-product-name,
.cpc-product-category {
  border: none;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 6px;
  width: 100%;
  height: 28px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: clamp(0.8rem, 1.5vw, 1.2rem);
  max-width: 100%;
  box-sizing: border-box;
}

@media (max-width: 768px) {
  .cpc-product-name,
  .cpc-product-category {
    padding: 0;
  }
}

.product-placeholder {
  position: absolute;
  width: 40px;
  height: 40px;
  background-color: transparent;
  border: none;
  border-radius: 0;
  pointer-events: none;
  z-index: 10;
}

.product-placeholder.left {
  top: 0;
  left: 0;
  border-top-left-radius: 4px;
  border-bottom-right-radius: 0;
}

.product-placeholder.right {
  top: 0;
  right: 0;
  border-top-right-radius: 4px;
  border-bottom-left-radius: 0;
}

.cpc-image-area {
  position: relative;
  width: 100%;
  height: 180px;
  border: none;
  margin-bottom: 16px;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: transparent;
  box-sizing: border-box;
  overflow: hidden;
}

.cpc-image-label {
  position: absolute;
  top: 8px;
  left: 8px;
  font-weight: 600;
  font-size: 1rem;
  background-color: rgba(255,255,255,0.8);
  padding: 2px 6px;
  border-radius: 2px;
  z-index: 2;
  color: var(--cpc-text-color);
}

.cpc-image-area img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 1;
  display: block;
  margin: 0 auto;
  border: 1px solid transparent;
  box-sizing: border-box;
  box-shadow: none;
  filter: none;
  border-radius: 8px;
}

.cpc-info {
  margin-bottom: 16px;
  width: 100%;
}

.cpc-product-name {
  font-weight: 700;
  font-size: 1.25rem;
  margin: 0 0 8px 0;
  color: var(--cpc-text-color);
}

.cpc-product-category,
.cpc-product-price {
  font-size: 1.125rem;
  margin: 0 0 6px 0;
  color: var(--cpc-text-color);
}

.cpc-button-reason {
  width: 100%;
  padding: 12px 0;
  background-color: var(--cpc-button-reason-bg);
  border: none;
  font-size: 1rem;
  cursor: pointer;
  margin-bottom: 12px;
  border-radius: 4px;
  transition: background-color 0.3s ease;
  color: var(--cpc-text-color);
}

.cpc-button-reason:hover,
.cpc-button-reason:focus {
  background-color: var(--cpc-button-reason-bg-hover);
  outline: none;
}

.cpc-button-buy {
  width: 100%;
  padding: 12px 0;
  background-color: var(--cpc-button-buy-bg);
  color: var(--cpc-button-buy-color);
  font-weight: 700;
  font-size: 1rem;
  border: none;
  cursor: pointer;
  border-radius: 4px;
  transition: background-color 0.3s ease;
}

.cpc-button-buy:hover,
.cpc-button-buy:focus {
  background-color: var(--cpc-button-buy-bg-hover);
  outline: none;
}

.gold-text {
  color: var(--cpc-border-color);
  font-weight: 700;
  font-size: 2.1rem;
  text-align: center;
  margin-bottom: 1rem;
}

@media (max-width: 768px) {
  .gold-text {
    font-size: 1.5rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
}

body {
  opacity: 0;
  animation: fadeIn 1s ease forwards;
}

@keyframes fadeIn {
  to {
    opacity: 1;
  }
}

/* Add this to your existing styles */
.popup {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.9);
  z-index: 1000;
  justify-content: center;
  align-items: center;
}

.popup.active {
  display: flex;
}

.popup-content {
  background-color: #000;
  padding: 20px;
  border-radius: 8px;
  max-width: 90%;
  width: 400px;
  text-align: center;
  color: white;
  border: 1px solid #d9b45c;
}

.popup-content h3 {
  color: #d9b45c;
  margin-bottom: 20px;
}

.popup-content a {
  display: block;
  margin: 10px 0;
  padding: 10px;
  background-color: #d9b45c;
  color: white;
  text-decoration: none;
  border-radius: 4px;
  font-weight: bold;
  box-sizing: border-box;
  border: 1px solid transparent;
}

.popup-content a:hover {
  border-color: #d9b45c;
}

.popup-close {
  margin-top: 20px;
  padding: 10px 20px;
  background-color: transparent;
  color: white;
  border: 1px solid #d9b45c;
  border-radius: 4px;
  cursor: pointer;
  font-weight: bold;
  box-sizing: border-box;
}

.popup-close:hover {
  background-color: #d9b45c;
  border-color: transparent;
  color: black;
}
  .tentang {
    background-color: #000000;
    color: white;
    padding: 20px 10px;
  }
  #footer {
    background-color: #111111;
    color: white;
    padding: 20px 10px;
  }
  #footer > div > strong {
    display: inline-block;
    position: relative;
    color: #d9b45c;
  }
  #footer .sosial a {
    color: white;
    text-decoration: none;
  }
  #footer .sosial a[href*="instagram.com"]:hover {
    color: #C13584;
  }
  #footer .sosial a[href*="facebook.com"]:hover {
    color: #1877F2;
  }
  #footer .sosial a[href*="tiktok.com"]:hover {
    color: white;
    background: none;
    -webkit-background-clip: unset;
    background-clip: unset;
    border-bottom: none;
    transition: none;
  }
  #footer .sosial a[href*="tiktok.com"] {
    border-bottom: none;
    transition: none;
    text-decoration: none;
  }
  #footer .sosial a[href*="wa.me"]:hover {
    color: #25D366;
  }
  </style>

  <!-- Produk Section -->
  <section class="produk" id="produk">
    <h2 class="section-title gold-text" style="text-align: center;">Temukan Aromamu Disini</h2>
    <div class="produk-container"></div>
  </section>

  <script>
    // Adjust product card width to fit exactly two per row on mobile without horizontal scroll
    function adjustProductCardWidth() {
      const container = document.querySelector('.produk-container');
      const cards = document.querySelectorAll('.clean-product-card');
      if (window.innerWidth <= 768 && container && cards.length > 0) {
        const containerWidth = container.clientWidth;
        const gap = parseInt(getComputedStyle(container).gap) || 0;
        // Calculate width for two cards per row minus gap
        const cardWidth = (containerWidth - gap) / 2;
        cards.forEach(card => {
          card.style.width = cardWidth + 'px';
        });
      } else {
        cards.forEach(card => {
          card.style.width = '';
        });
      }
    }
    window.addEventListener('resize', adjustProductCardWidth);
    window.addEventListener('load', adjustProductCardWidth);

    // Adjust font size to fit within placeholder on all screen sizes
    function fitTextToPlaceholder() {
      const elements = document.querySelectorAll('.cpc-product-name, .cpc-product-category');
      elements.forEach(el => {
        const maxWidth = el.clientWidth;
        const maxHeight = el.clientHeight;
        el.style.whiteSpace = 'nowrap';

        let fontSize = 8; // start from minimum font size 8px
        el.style.fontSize = fontSize + 'px';

        // Increase font size until it reaches max width or max height
        while (fontSize < 100) { // arbitrary max font size limit
          el.style.fontSize = (fontSize + 1) + 'px';
          if (el.scrollWidth > maxWidth || el.scrollHeight > maxHeight) {
            el.style.fontSize = fontSize + 'px'; // revert to last fitting size
            break;
          }
          fontSize++;
        }
      });
    }
    window.addEventListener('resize', fitTextToPlaceholder);
    window.addEventListener('load', fitTextToPlaceholder);

    // Popup toggle function for multiple popups
    function togglePopup(popupId) {
      if (!popupId) {
        // If no id provided, toggle the default popupMarketplace
        const popup = document.getElementById('popupMarketplace');
        if (popup) {
          popup.hidden = !popup.hidden;
        }
        return;
      }
      const popup = document.getElementById(popupId);
      if (popup) {
        popup.hidden = !popup.hidden;
      }
    }

    // Popup toggle function for multiple popups
    function toggleProductPopup(popupId) {
      if (!popupId) {
        // If no id provided, toggle the default popupMarketplace
        const popup = document.getElementById('popupMarketplace');
        if (popup) {
          popup.hidden = !popup.hidden;
        }
        return;
      }
      const popup = document.getElementById(popupId);
      if (popup) {
        popup.hidden = !popup.hidden;
      }
    }

    // Dynamically load product cards and popups from JSON
    async function loadProductCards() {
      try {
        const response = await fetch('product-cards-index.json');
        const products = await response.json();
        const container = document.querySelector('.produk-container');
        products.forEach(product => {
          // Create product card
          const card = document.createElement('div');
          card.className = 'clean-product-card';

          // Placeholders
          const placeholderLeft = document.createElement('div');
          placeholderLeft.className = 'product-placeholder left';
          const placeholderRight = document.createElement('div');
          placeholderRight.className = 'product-placeholder right';

          // Image area
          const imageArea = document.createElement('div');
          imageArea.className = 'cpc-image-area';
          const img = document.createElement('img');
          img.src = product.image;
          img.alt = product.name;
          imageArea.appendChild(img);

          // Info area
          const info = document.createElement('div');
          info.className = 'cpc-info';
          const name = document.createElement('h2');
          name.className = 'cpc-product-name';
          name.textContent = product.name;
          const category = document.createElement('p');
          category.className = 'cpc-product-category';
          category.textContent = product.category;
          const price = document.createElement('p');
          price.className = 'cpc-product-price';
          price.textContent = product.price;
          info.appendChild(name);
          info.appendChild(category);
          info.appendChild(price);

          // Buttons
          const btnReason = document.createElement('button');
          btnReason.className = 'cpc-button-reason';
          btnReason.textContent = 'Lihat Produk';
          btnReason.onclick = () => {
            location.href = `products.html#${product.id}`;
          };
          const btnBuy = document.createElement('button');
          btnBuy.className = 'cpc-button-buy';
          btnBuy.textContent = 'Beli Sekarang';
          btnBuy.onclick = () => {
            toggleProductPopup(product.popupId);
          };

          // Append all to card
          card.appendChild(placeholderLeft);
          card.appendChild(placeholderRight);
          card.appendChild(imageArea);
          card.appendChild(info);
          card.appendChild(btnReason);
          card.appendChild(btnBuy);

          container.appendChild(card);

          // Create popup for product
          const popup = document.createElement('div');
          popup.className = 'popup';
          popup.id = product.popupId;
          popup.setAttribute('role', 'dialog');
          popup.setAttribute('aria-modal', 'true');
          popup.setAttribute('aria-labelledby', `popupTitle${product.id}`);

          const popupContent = document.createElement('div');
          popupContent.className = 'popup-content';

          const popupTitle = document.createElement('h3');
          popupTitle.id = `popupTitle${product.id}`;
          popupTitle.textContent = product.popupTitle;

          const shopeeLink = document.createElement('a');
          shopeeLink.href = product.shopeeLink;
          shopeeLink.className = 'shopee';
          shopeeLink.target = '_blank';
          shopeeLink.rel = 'noopener noreferrer';
          shopeeLink.textContent = 'Shopee';

          const tokopediaLink = document.createElement('a');
          tokopediaLink.href = product.tokopediaLink;
          tokopediaLink.className = 'tokopedia';
          tokopediaLink.target = '_blank';
          tokopediaLink.rel = 'noopener noreferrer';
          tokopediaLink.innerHTML = 'Tokopedia <span class="soon-stamp">soon ðŸ˜Š</span>';

          const tiktokLink = document.createElement('a');
          tiktokLink.href = product.tiktokLink;
          tiktokLink.className = 'tiktok';
          tiktokLink.target = '_blank';
          tiktokLink.rel = 'noopener noreferrer';
          tiktokLink.innerHTML = 'TikTok Shop <span class="soon-stamp">soon ðŸ˜Š</span>';

          const whatsappLink = document.createElement('a');
          whatsappLink.href = product.whatsappLink;
          whatsappLink.className = 'whatsapp';
          whatsappLink.target = '_blank';
          whatsappLink.rel = 'noopener noreferrer';
          whatsappLink.textContent = 'Chat via WhatsApp';

          const closeButton = document.createElement('button');
          closeButton.className = 'popup-close';
          closeButton.setAttribute('aria-label', 'Close popup');
          closeButton.textContent = 'Tutup';
          closeButton.onclick = () => {
            toggleProductPopup(product.popupId);
          };

          popupContent.appendChild(popupTitle);
          popupContent.appendChild(shopeeLink);
          popupContent.appendChild(tokopediaLink);
          popupContent.appendChild(tiktokLink);
          popupContent.appendChild(whatsappLink);
          popupContent.appendChild(closeButton);

          popup.appendChild(popupContent);

          document.body.appendChild(popup);
        });
        adjustProductCardWidth();
        fitTextToPlaceholder();
      } catch (error) {
        console.error('Error loading product cards:', error);
      }
    }

    window.addEventListener('load', loadProductCards);

    // Add click event listeners to Tokopedia and TikTok Shop links in product popups
    document.addEventListener('DOMContentLoaded', function () {
      // Use event delegation for dynamically created popups
      document.body.addEventListener('click', function (e) {
        if (e.target.matches('a.tokopedia')) {
          e.preventDefault();
          alert('Tokopedia shop coming soon');
        }
        if (e.target.matches('a.tiktok')) {
          e.preventDefault();
          alert('TikTok shop coming soon');
        }
      });
    });
  </script>

  <!-- Tentang Kami -->
  <section class="tentang" id="tentang">
    <div class="tentang-container">
      <h2 class="section-title">Tentang Kami</h2>
      <p>Adfa Parfum adalah brand lokal yang hadir dari kasih sayang keluarga dan semangat menghadirkan aroma berkualitas tinggi, aman, dan terjangkau. Dengan filosofi hidup yang reflektif dan mendalam, kami percaya bahwa setiap aroma menyimpan kisah yang mampu menguatkan langkahmu. Dari Deli Serdang untuk Indonesia dan dunia.</p>
    </div>
  </section>
 
  <!-- Footer -->
  <footer id="footer">
    <div>
      <strong>Temukan Kami</strong>
    </div>
    <div class="sosial">
    <a href="https://instagram.com/adfaparfum" target="_blank" rel="noopener noreferrer">Instagram</a>
    <a href="https://facebook.com/adfaparfum" target="_blank" rel="noopener noreferrer">Facebook</a>
    <a href="https://tiktok.com/@adfaparfum" target="_blank" rel="noopener noreferrer">TikTok</a>
    <a href="https://wa.me/6285179981122?text=Hai%2C%20aroma%20Adfa%20Parfum%20apa%20saja%20yang%20ready%20hari%20ini%3F" target="_blank" rel="noopener noreferrer">WhatsApp</a>
  </div>
    <p>&copy; 2025 Adfa Parfum. All rights reserved.</p>
  </footer>

  <button id="scrollToTopBtn" title="Scroll to top" aria-label="Scroll to top">
    <img src="assets/images/navigation/toppage.png" alt="Scroll to top" style="width: 24px; height: 24px;" />
  </button>
  <script src="script.js" defer></script>
</body>
</html>
